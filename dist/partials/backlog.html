<div tg-backlog="tg-backlog" ng-controller="BacklogController as ctrl" ng-init="section='backlog'" class="wrapper"><sidebar tg-backlog-filters="tg-backlog-filters" class="menu-secondary extrabar filters-bar"><section class="filters"><div class="filters-inner"><h1><span class="title">filters</span></h1><form><fieldset><input type="text" placeholder="Search by subject or reference..." ng-model="filtersQ"/><a href="" title="search" class="icon icon-search"></a></fieldset></form><div class="filters-step-cat"><div class="filters-applied"></div><h2 class="hidden breadcrumb"><a href="" title="back to categories" class="back">Filters</a><span class="icon-arrow-right"></span><a href="" title="cat-name" class="subfilter"><span class="title">status</span></a></h2><div class="filters-cats"><ul><li><a href="" title="Status" data-type="statuses"><span class="title">Status</span><span class="icon icon-arrow-right"></span></a></li><li><a href="" title="Tags" data-type="tags"><span class="title">Tags</span><span class="icon icon-arrow-right"></span></a></li></ul></div></div><div class="filter-list hidden"></div></div></section></sidebar><section class="main backlog"><header><h1 tg-main-title="tg-main-title"></h1></header><div class="summary"><div tg-backlog-progress-bar="stats" class="summary-progress-bar"></div><div class="data"><span ng-bind="stats.completedPercentage + '%'" class="number"></span></div><ul><li><span ng-bind="stats.total_points" class="number">--</span><span class="description">project<br />points</span></li><li><span ng-bind="stats.defined_points" class="number">--</span><span class="description">defined<br />points</span></li><li><span ng-bind="stats.closed_points" class="number">--</span><span class="description">closed<br />points</span></li><li><span ng-bind="stats.speed | number:0" class="number">--</span><span class="description">points /<br />sprint</span></li></ul></div><div class="graphics-container burndown-container"><div tg-gm-backlog-graph="tg-gm-backlog-graph" class="burndown"><section class="burndown-container"><div class="burndown"></div></section></div></div><div class="backlog-menu"><a href="" title="Move to Current Sprint" id="move-to-current-sprint" class="trans-button move-to-current-sprint"><span class="icon icon-move"></span><span class="text">Move to current Sprint</span></a><a href="" title="Show Filters" id="show-filters-button" class="trans-button"><span class="icon icon-filter"></span><span class="text">Show Filters</span></a><a href="" title="Show Tags" id="show-tags" class="trans-button"><span class="icon icon-tag"></span><span class="text">Show Tags</span></a><div class="new-us"><a href="" title="Add a new User Story" ng-click="ctrl.addNewUs('standard')" tg-check-permission="add_us" class="button button-green"><span class="text">+ Add a new User Story</span></a><a href="" title="Add some new User Stories in bulk" ng-click="ctrl.addNewUs('bulk')" tg-check-permission="add_us" class="button button-bulk"><span class="icon icon-bulk"></span></a></div></div><section ng-class="{'hidden': !visibleUserstories.length}" class="backlog-table"><div class="backlog-table-header"><div class="row backlog-table-title"><div class="user-stories">User Stories</div><div class="status">Status</div><div tg-us-role-points-selector="tg-us-role-points-selector" title="Select view per Role" class="points"><span class="header-points">Points</span><span class="icon icon-arrow-bottom"></span></div></div></div><div tg-backlog-sortable="tg-backlog-sortable" ng-class="{'show-tags': ctrl.showTags, 'active-filters': ctrl.activeFilters}" class="backlog-table-body"><div ng-repeat="us in visibleUserstories track by us.id" tg-draggable="tg-draggable" ng-class="{blocked: us.is_blocked}" class="row us-item-row"><div class="user-stories"><div tg-colorize-tags="us.tags" tg-colorize-tags-type="backlog" class="tags-block"></div><div class="user-story-name"><input tg-check-permission="modify_us" type="checkbox" name=""/><a tg-nav="project-userstories-detail:project=project.slug,ref=us.ref" title="#{{ us.ref }} {{ us.subject }}" class="clickable"><span tg-bo-ref="us.ref"></span><span ng-bind="us.subject"></span></a><div class="us-settings"><a tg-check-permission="modify_us" href="" ng-click="ctrl.editUserStory(us)" title="Edit" class="icon icon-edit"></a><a tg-check-permission="delete_us" href="" ng-click="ctrl.deleteUserStory(us)" title="Delete" class="icon icon-delete"></a></div></div></div><div tg-us-status="us" on-update="ctrl.loadProjectStats()" class="status"><a href="" title="Status Name" class="us-status"><span class="us-status-bind"></span><span tg-check-permission="modify_us" class="icon icon-arrow-bottom"></span></a></div><div tg-backlog-us-points="us" class="points"><a href="" title="Points" class="us-points"><span class="points-value">0</span><span tg-check-permission="modify_us" class="icon icon-arrow-bottom"></span></a></div><a tg-check-permission="modify_us" href="" title="Drag" class="icon icon-drag-v"></a></div></div></section><div ng-class="{'hidden': visibleUserstories.length}" tg-backlog-empty-sortable="tg-backlog-empty-sortable" class="empty empty-backlog"><span class="icon icon-backlog"></span><span class="title">Your backlog is empty!</span><a href="" title+"Create="title+"Create" a="a" new="new" US="US" ng-click="ctrl.addNewUs('standard')" tg-check-permission="add_us">You may want to create a new user story</a></div></section><sidebar class="menu-secondary sidebar"><section class="sprints"><header><h1>SPRINTS</h1><div class="summary"><ul><li><span ng-bind="project.total_milestones" class="number">--</span><span class="description"><br/>sprints</span></li></ul><div class="new-sprint"><a href="" title="Add New sprint" ng-click="ctrl.addNewSprint()" tg-check-permission="add_milestone" class="button button-green"><span class="text">+ New sprint</span></a></div></div></header><div ng-repeat="sprint in openSprints track by sprint.id" tg-backlog-sprint="sprint" class="sprint sprint-open"><header tg-backlog-sprint-header="tg-backlog-sprint-header" ng-model="sprint"></header><div tg-progress-bar="100 * sprint.closed_points / sprint.total_points" class="sprint-progress-bar"></div><div tg-sprint-sortable="tg-sprint-sortable" class="sprint-table"><div ng-repeat="us in sprint.user_stories track by us.id" class="row milestone-us-item-row"><div class="column-us"><a tg-nav="project-userstories-detail:project=project.slug,ref=us.ref" tg-bo-title="'#' + us.ref + ' ' +  us.subject" ng-class="{closed: us.is_closed, blocked: us.is_blocked}" class="us-name clickable"><span tg-bo-ref="us.ref"></span><span tg-bo-bind="us.subject"></span></a></div><div tg-bo-bind="us.total_points" ng-class="{closed: us.is_closed, blocked: us.is_blocked}" class="column-points width-1"></div></div></div><a tg-bo-title="'Go to Taskboard of ' + sprint.name" tg-nav="project-taskboard:project=project.slug,sprint=sprint.slug" tg-check-permission="view_milestones" class="button button-gray"><span>Sprint Taskboard</span></a></div><a href="" ng-show="project.total_closed_milestones" class="filter-closed-sprints"><span class="icon icon-archive"></span><span tg-backlog-toggle-closed-sprints-visualization="ctrl.excludeClosedSprints">Show closed sprints</span><span class="load"></span></a><div ng-repeat="sprint in closedSprints track by sprint.id" tg-backlog-sprint="sprint" class="sprint sprint-closed"><header tg-backlog-sprint-header="tg-backlog-sprint-header" ng-model="sprint"></header><div tg-progress-bar="100 * sprint.closed_points / sprint.total_points" class="sprint-progress-bar"></div><div tg-sprint-sortable="tg-sprint-sortable" class="sprint-table"><div ng-repeat="us in sprint.user_stories track by us.id" class="row milestone-us-item-row"><div class="column-us"><a tg-nav="project-userstories-detail:project=project.slug,ref=us.ref" tg-bo-title="'#' + us.ref + ' ' +  us.subject" ng-class="{closed: us.is_closed, blocked: us.is_blocked}" class="us-name clickable"><span tg-bo-ref="us.ref"></span><span tg-bo-bind="us.subject"></span></a></div><div tg-bo-bind="us.total_points" ng-class="{closed: us.is_closed, blocked: us.is_blocked}" class="column-points width-1"></div></div></div><a tg-bo-title="'Go to Taskboard of ' + sprint.name" tg-nav="project-taskboard:project=project.slug,sprint=sprint.slug" tg-check-permission="view_milestones" class="button button-gray"><span>Sprint Taskboard</span></a></div></section></sidebar><div tg-lb-create-edit-userstory="tg-lb-create-edit-userstory" class="lightbox lightbox-generic-form"><a href="" title="close" class="close"><span class="icon icon-delete"></span></a><form><h2 tr="us.title-new" class="title"></h2><fieldset><input type="text" name="subject" ng-model="us.subject" tr="placeholder:common.subject" data-required="true" data-maxlength="500"/></fieldset><fieldset class="estimation"><tg-lb-us-estimation ng-model="us.points"></tg-lb-us-estimation></fieldset><fieldset><select name="status" ng-model="us.status" ng-options="s.id as s.name for s in usStatusList" tr="placeholder:common.status"></select></fieldset><fieldset><div tg-lb-tag-line="tg-lb-tag-line" ng-model="us.tags" class="tags-block"></div></fieldset><fieldset><textarea name="description" ng-model="us.description" placeholder="Please add descriptive text to help others better understand this US" class="description"></textarea></fieldset><div class="settings"><fieldset class="team-requirement"><input type="checkbox" name="team_requirement" ng-model="us.team_requirement" id="team-requirement" ng-value="true"/><label for="team-requirement" tr="us.team-requirement" class="requirement"></label></fieldset><fieldset class="client-requirement"><input type="checkbox" name="client_requirement" ng-model="us.client_requirement" id="client-requirement" ng-value="true"/><label for="client-requirement" tr="us.client-requirement" class="requirement"></label></fieldset><fieldset class="blocking-flag"><input type="checkbox" name="is_blocked" ng-model="us.is_blocked" id="blocked-us" ng-value="true"/><label for="blocked-us" tr="common.blocked" class="blocked"></label></fieldset></div><tg-blocking-message-input watch="us.is_blocked" ng-model="us.blocked_note"></tg-blocking-message-input><button type="submit" class="hidden"></button><a href="" title="Submit" class="button button-green submit-button">Create</a></form></div><div tg-lb-create-bulk-userstories="tg-lb-create-bulk-userstories" class="lightbox lightbox-generic-bulk"><a href="" title="close" class="close"><span class="icon icon-delete"></span></a><form><h2 tr="common.new-bulk" class="title"></h2><fieldset><textarea cols="200" wrap="off" tg-limit-line-length="tg-limit-line-length" tr="placeholder:common.one-item-line" ng-model="new.bulk" data-required="true" data-linewidth="200"></textarea></fieldset><button type="submit" class="hidden"></button><a href="" title="Save" class="button button-green submit-button">Save</a></form></div><div tg-lb-create-edit-sprint="tg-lb-create-edit-sprint" class="lightbox lightbox-sprint-add-edit"><a href="" title="close" class="close"><span class="icon icon-delete"></span></a><form><h2 class="title">New Sprint</h2><fieldset><input type="text" name="name" placeholder="sprint name" ng-model="sprint.name" data-required="true" data-maxlength="500" class="sprint-name"/><label class="last-sprint-name"></label></fieldset><fieldset class="dates"><div><input type="text" name="estimated_start" placeholder="Estimated Start" ng-model="sprint.estimated_start" data-required="true" tg-date-selector="tg-date-selector" class="date-start"/></div><div><input type="text" name="estimated_finish" placeholder="Estimated End" ng-model="sprint.estimated_finish" data-required="true" tg-date-selector="tg-date-selector" class="date-end"/></div></fieldset><button type="submit" class="hidden"></button><a href="" title="Create" class="button button-green submit-button"><span>Create</span></a><div tg-check-permission="delete_milestone"><span class="delete-sprint hidden">Do you want to delete this sprint?<a href="" title="delete sprint" class="icon icon-delete"></a></span></div></form></div></div>